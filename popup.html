<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Boost</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="popup.css">
  <link rel="stylesheet" href="lib/codemirror/codemirror.css">
  <link rel="stylesheet" href="lib/codemirror/tomorrow-light.css">
</head>
<body>

  <!-- Toolbar -->
  <div id="toolbar" class="toolbar" style="display:none;">
    <div class="toolbar-section">
      <button id="back-btn" class="tool-btn" style="display:none;" aria-label="Back">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/>
        </svg>
        <span>BACK</span>
      </button>
    </div>

    <div class="toolbar-section">
      <div class="led-indicator" id="toolbar-status" style="display:none;">
        <span class="led" id="toolbar-led"></span>
        <span class="led-text" id="toolbar-status-text">INACTIVE</span>
      </div>
    </div>

    <div class="toolbar-section">
      <button id="save-btn" class="tool-btn primary" style="display:none;" aria-label="Save">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/><path d="M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"/><path d="M7 3v4a1 1 0 0 0 1 1h7"/>
        </svg>
        <span>SAVE</span>
      </button>

      <button id="reload-btn" class="tool-btn" style="display:none;" aria-label="Reload page">
        <svg class="refresh-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/>
        </svg>
        <span>RELOAD</span>
      </button>

      <button id="clear-btn" class="tool-btn" style="display:none;" aria-label="Clear logs">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
        </svg>
        <span>CLEAR</span>
      </button>
    </div>
  </div>

  <!-- Landing View -->
  <div id="landing" class="view active">
    <!-- Status Panel -->
    <div class="status-panel">
      <div class="status-header">
        <span class="status-title">TARGET STATUS</span>
        <div class="led-indicator" id="main-status">
          <span class="led" id="main-led"></span>
          <span class="led-text" id="main-status-text">NO SCRIPT</span>
        </div>
      </div>
      
      <div class="status-grid">
        <div class="status-item">
          <span class="status-label">Domain</span>
          <span class="status-value domain" id="domain-text">-</span>
        </div>
        <div class="status-item">
          <span class="status-label">Script Size</span>
          <span class="status-value code-size" id="size-text">0 B</span>
        </div>
        <div class="status-item">
          <span class="status-label">Last Modified</span>
          <span class="status-value timestamp" id="modified-text">Never</span>
        </div>
        <div class="status-item">
          <span class="status-label">Components</span>
          <span class="status-value code-size" id="components-text">JS: 0 | CSS: 0</span>
        </div>
      </div>

      <div class="storage-bar" id="storage-bar" style="display:none;">
        <span class="storage-label">Storage</span>
        <div class="storage-track">
          <div class="storage-fill" id="storage-fill" style="width: 0%"></div>
        </div>
        <span class="storage-text" id="storage-text">0%</span>
      </div>
    </div>

    <!-- Empty State (shown when no script) -->
    <div class="empty-state" id="empty-state">
      <svg class="empty-state-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
        <polyline points="14 2 14 8 20 8"/>
        <path d="M8 13h8"/>
        <path d="M8 17h8"/>
        <path d="M10 9h.01"/>
      </svg>
      <p class="empty-state-text">
        No script configured for<br>
        <span class="empty-state-domain" id="empty-domain">this domain</span>
      </p>
    </div>

    <!-- Action Panel (shown when has script) -->
    <div class="action-panel" id="action-panel" style="display:none;">
      <div class="action-row">
        <button id="toggle-btn" class="action-btn toggle-btn">
          <span class="led"></span>
          <span id="toggle-text">DISABLED</span>
        </button>
        
        <button id="edit-btn" class="action-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4Z"/>
          </svg>
          <span>EDIT</span>
        </button>
      </div>
      
      <div class="panel-footer">
        <button id="log-btn" class="log-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 12h-5"/><path d="M15 8h-5"/><path d="M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/>
          </svg>
          <span>LOGS</span>
        </button>
      </div>
    </div>

    <!-- Single Create Button (shown when no script) -->
    <div class="action-panel" id="create-panel" style="display:none;">
      <div class="action-row">
        <button id="create-btn" class="action-btn" style="max-width: 200px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 5v14"/><path d="M5 12h14"/>
          </svg>
          <span>CREATE SCRIPT</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Editor View -->
  <div id="editor-view" class="view">
    <div class="tabs">
      <button class="tab active" data-target="js-editor">script.js</button>
      <button class="tab" data-target="css-editor">style.css</button>
    </div>

    <div class="code-editor-wrapper">
      <div id="js-editor" class="code-editor active"></div>
      <div id="css-editor" class="code-editor"></div>
    </div>
  </div>

  <!-- Log View -->
  <div id="log-view" class="view">
    <div class="log-wrapper">
      <pre id="log-pre">No logs yet. Perform actions to generate logs.</pre>
    </div>
  </div>

  <script src="lib/codemirror/codemirror.js"></script>
  <script src="lib/codemirror/javascript.js"></script>
  <script src="lib/codemirror/css.js"></script>
  <script src="popup.js"></script>
</body>
</html>
